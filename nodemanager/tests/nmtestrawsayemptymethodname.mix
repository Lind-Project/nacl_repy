"""
Author: Cosmin Barsan
Description:
This test attempts to use the nmclient_rawsay method, but passes in an empty method name.
"""
include nmclient.repy

if callfunc == 'initialize':
  pubkey = {'e': 1515278400394037168869631887206225761783197636247636149274740854708478416229147500580877416652289990968676310353790883501744269103521055894342395180721167L, 'n': 8811850224687278929671477591179591903829730117649785862652866020803862826558480006479605958786097112503418194852731900367494958963787480076175614578652735061071079458992502737148356289391380249696938882025028801032667062564713111819847043202173425187133883586347323838509679062142786013585264788548556099117804213139295498187634341184917970175566549405203725955179602584979965820196023950630399933075080549044334508921319264315718790337460536601263126663173385674250739895046814277313031265034275415434440823182691254039184953842629364697394327806074576199279943114384828602178957150547925812518281418481896604655037L}

  nmhandle = nmclient_createhandle(getmyip(), 1224)

  # get the vessel to use...
  myvessel = nmclient_listaccessiblevessels(nmhandle,pubkey)[0][0]

  try:
    nmclient_rawsay(nmhandle, "", myvessel)
  except NMClientException:
    pass
  else:
    raise Exception, "no exception detected when attempting to call nonexistent method with rawsay"
